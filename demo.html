<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>date-picker demo</title>
    <script src="/components/at-app/at-app-context-es6.js" id="at-app-context" async include-element token="u:xUHOJ7L3HGR0nBB4BdlbzPCYpJmzo5ww"></script>
    <link rel="import" href="../at-app/at-app-context-es6.html" />
    <link rel="import" href="../at-carbon-date-picker/at-carbon-date-picker.html" />
    <link rel="import" href="../at-form-lookup/at-form-lookup.html" />
    <style media="screen">
      .container {
        margin: 0 5%;
      }
    </style>

  </head>
  <body>
    <div class="container">
      <div class="date-picker-container">
        <at-carbon-date-picker id="datePicker"></at-carbon-date-picker>
      </div>
      <div>
        <at-form-lookup id="modePicker" label="Is end date?"></at-form-lookup>
      </div>
      <div class="echo-container">
        <div>
          <label>Start Date:</label><label id="startDateEcho"></label>
        </div>
        <div>
          <label>End Date:</label><label id="endDateEcho"></label>
        </div>
      </div>
    </div>
    <script>
      document.addEventListener('WebComponentsReady', function(event) {
        var datePicker = document.getElementById('datePicker');
        var startDateEcho = document.getElementById('startDateEcho');
        var endDateEcho = document.getElementById('endDateEcho');
        var modePicker = document.getElementById('modePicker');

        modePicker.xvaluelist = [{
          title: "Single",
          value: "single"
        }, {
          title: "Start of date range",
          value: "start-range"
        }, {
          title: "End of date range",
          value: "end-range"
        }];
        modePicker.value = 'single';
        datePicker.mode = modePicker.value;
        modePicker.addEventListener('value-changed', function(event) {
          datePicker.mode = modePicker.value;
        });

        startDateEcho.innerHTML = datePicker.startDate;
        datePicker.addEventListener('start-date-changed', function(event) {
          startDateEcho.innerHTML = datePicker.startDate;
        });

        endDateEcho.innerHTML = datePicker.endDate;
        datePicker.addEventListener('end-date-changed', function(event) {
          endDateEcho.innerHTML = datePicker.endDate;
        });
      });
    </script>
  </body>
</html>
